<!-- EXERCISE
Buatlah sebuah halaman dengan kriteria sebagai berikut:

Buatlah table dengan data dari Swapi
Tambah field untuk filtering data dari table tersebut
Upload ke Github dengan nama repository "Exercise 3" 
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Swapi Search</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/ico" href="FS.png" />
</head>
<body>
        <!--
            1. pilih dropdown
            2. masukan value search
            3. onclick submit -> function JS (cek value dropdown)
            4. function cek value (if(value==name) for (searchbyname))
        -->
        <div id="searchBar">
            <h3>
                Swapi Search
            </h3>
            <select id="searchby">
                <option value="name">Name</option>
                <!-- <option value="rotation_period">Rotation Period</option>
                <option value="orbital_period">Orbital Period</option>
                <option value="diameter">Diameter</option>
                <option value="surface_water">Surface Water</option>
                <option value="population">Population</option> -->
            </select>
            <input type="text" id='search' placeholder="Search">
            <button onclick="search(document.getElementById('search').value)">Submit</button>
        </div>
        
        
        <div id="dspArr">
            <p id='result'></p>
            <table class="table table-striped">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Rotation Period</th>
                            <th scope="col">Orbital Period</th>
                            <th scope="col">Diameter</th>
                            <th scope="col">Climate</th>
                            <th scope="col">Gravity</th>
                            <th scope="col">Terrain</th>
                            <th scope="col">Surface Water</th>
                            <th scope="col">Population</th>
                            <th scope="col">Residents</th>
                            <th scope="col">Films</th>
                            <th scope="col">Created</th>
                            <th scope="col">Edited</th>
                            <th scope="col">Url</th>
                        </tr>
                    </thead>
            </table>
        </div>
    

    <table class="table table-striped">
        <thead class="thead-dark">
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Rotation Period</th>
                <th scope="col">Orbital Period</th>
                <th scope="col">Diameter</th>
                <th scope="col">Climate</th>
                <th scope="col">Gravity</th>
                <th scope="col">Terrain</th>
                <th scope="col">Surface Water</th>
                <th scope="col">Population</th>
                <th scope="col">Residents</th>
                <th scope="col">Films</th>
                <th scope="col">Created</th>
                <th scope="col">Edited</th>
                <th scope="col">Url</th>
            </tr>
        </thead>
        
        <tbody>
            <!-- Looping JS untuk bentuk table -->

            <!-- 
                buat script js
                didalam script create lopping
                for (){
                    create <tr>
                    create <td> MyData[i].name </td>
                    create <td> MyData[i].rotation_period </td>
                    ...
                    myData[i].url
                    create </tr>
                }
            
            -->

            <tr>
                <td>Alderaan</td>
                <td>24</td>
                <td>364</td>
                <td>12500</td>
                <td>temperate</td>
                <td>1 standard</td>
                <td>grasslands, mountains</td>
                <td>40</td>
                <td>2000000000</td>
                <td><a href="https://swapi.co/api/people/5/">https://swapi.co/api/people/5/</a> , 
                    <a href="https://swapi.co/api/people/68/">https://swapi.co/api/people/68/</a> , 
                    <a href="https://swapi.co/api/people/81/"> https://swapi.co/api/people/81/ </a></td>
                <td>
                    <a href="https://swapi.co/api/films/6/">https://swapi.co/api/films/6/</a>, 
                    <a href="https://swapi.co/api/films/1/">https://swapi.co/api/films/1/</a>
                </td>
                <td>2014-12-10T11:35:48.479000Z</td>
                <td>2014-12-20T20:58:18.420000Z</td>
                <td>
                    <a href="https://swapi.co/api/planets/2/">https://swapi.co/api/planets/2/</a>    
                </td>
            </tr>

            <tr>
                <td>Yavin IV</td>
                <td>24</td>
                <td>4818</td>
                <td>10200</td>
                <td>temperate, tropical</td>
                <td>1 standard</td>
                <td>jungle, rainforests</td>
                <td>8</td>
                <td>1000</td>
                <td></td>
                <td>
                    <a href="https://swapi.co/api/films/1/">https://swapi.co/api/films/1/</a>
                </td>
                <td>2014-12-10T11:37:19.144000Z</td>
                <td>2014-12-20T20:58:18.421000Z</td>
                <td>
                    <a href="https://swapi.co/api/planets/3/">https://swapi.co/api/planets/3/</a>
                </td>
            </tr>

            <tr>
                <td>Hoth</td>
                <td>23</td>
                <td>549</td>
                <td>7200</td>
                <td>frozen</td>
                <td>1.1 standard</td>
                <td>tundra, ice caves, mountain ranges</td>
                <td>100</td>
                <td>unknown</td>
                <td></td>
                <td>
                    <a href="https://swapi.co/api/films/2/">https://swapi.co/api/films/2/</a>
                </td>
                <td>2014-12-10T11:39:13.934000Z</td>
                <td>2014-12-20T20:58:18.423000Z</td>
                <td>
                    <a href="https://swapi.co/api/planets/4/">https://swapi.co/api/planets/4/</a>
                </td>
            </tr>

            <tr>
                <td>Dagobah</td>
                <td>23</td>
                <td>341</td>
                <td>8900</td>
                <td>murky</td>
                <td>N/A</td>
                <td>swamp, jungles</td>
                <td>8</td>
                <td>unknown</td>
                <td></td>
                <td>
                    <a href="https://swapi.co/api/films/2/">https://swapi.co/api/films/2/</a>,
                    <a href="https://swapi.co/api/films/6/">https://swapi.co/api/films/6/</a>,
                    <a href="https://swapi.co/api/films/3/">https://swapi.co/api/films/3/</a>
                </td>
                <td>2014-12-10T11:42:22.590000Z</td>
                <td>2014-12-20T20:58:18.425000Z</td>
                <td>
                    <a href="https://swapi.co/api/planets/5/">https://swapi.co/api/planets/5/</a>
                </td>
            </tr>

            <tr>
                <td>Bespin</td>
                <td>12</td>
                <td>5110</td>
                <td>118000</td>
                <td>temperate</td>
                <td>1.5 (surface), 1 standard (Cloud City)</td>
                <td>gas giant</td>
                <td>0</td>
                <td>6000000</td>
                <td>
                    <a href="https://swapi.co/api/people/26/">https://swapi.co/api/people/26/</a>
                </td>
                <td>
                    <a href="https://swapi.co/api/films/2/">https://swapi.co/api/films/2/</a>
                </td>
                <td>2014-12-10T11:43:55.240000Z</td>
                <td>2014-12-20T20:58:18.427000Z</td>
                <td>
                    <a href="https://swapi.co/api/planets/6/">https://swapi.co/api/planets/6/</a>
                </td>
            </tr>

            <tr>
                <td>Endor</td>
                <td>18</td>
                <td>402</td>
                <td>4900</td>
                <td>temperate</td>
                <td>0.85 standard</td>
                <td>forests, mountains, lakes</td>
                <td>8</td>
                <td>30000000</td>
                <td>
                    <a href="https://swapi.co/api/people/30/">https://swapi.co/api/people/30/</a>
                </td>
                <td>
                    <a href="https://swapi.co/api/films/3/">https://swapi.co/api/films/3/</a>
                </td>
                <td>2014-12-10T11:50:29.349000Z</td>
                <td>2014-12-20T20:58:18.429000Z</td>
                <td>
                    <a href="https://swapi.co/api/planets/7/">https://swapi.co/api/planets/7/</a>
                </td>
            </tr>

            <tr>
                    <td>Naboo</td> 
                    <td>26</td> 
                    <td>312</td> 
                    <td>12120</td> 
                    <td>temperate</td> 
                    <td>1 standard</td> 
                    <td>grassy hills, swamps, forests, mountains</td> 
                    <td>12</td> 
                    <td>4500000000</td> 
                    <td>
                        <a href="https://swapi.co/api/people/3/"> https://swapi.co/api/people/3/</a>,
                        <a href="https://swapi.co/api/people/21/">https://swapi.co/api/people/21/</a>,
                        <a href="https://swapi.co/api/people/36/">https://swapi.co/api/people/36/</a>,
                        <a href="https://swapi.co/api/people/37/">https://swapi.co/api/people/37/</a>,
                        <a href="https://swapi.co/api/people/38/">https://swapi.co/api/people/38/</a>,
                        <a href="https://swapi.co/api/people/39/">https://swapi.co/api/people/39/</a>,
                        <a href="https://swapi.co/api/people/42/">https://swapi.co/api/people/42/</a>,
                        <a href="https://swapi.co/api/people/60/">https://swapi.co/api/people/60/</a>,
                        <a href="https://swapi.co/api/people/61/">https://swapi.co/api/people/61/</a>,
                        <a href="https://swapi.co/api/people/66/">https://swapi.co/api/people/66/</a>,
                        <a href="https://swapi.co/api/people/35/">https://swapi.co/api/people/35/</a>
                    </td> 
                    <td>
                        <a href="https://swapi.co/api/films/5/">https://swapi.co/api/films/5/</a>,
                        <a href="https://swapi.co/api/films/4/">https://swapi.co/api/films/4/</a>,
                        <a href="https://swapi.co/api/films/6/">https://swapi.co/api/films/6/</a>,
                        <a href="https://swapi.co/api/films/3/">https://swapi.co/api/films/3/</a>
                    </td> 
                    <td>2014-12-10T11:52:31.066000Z</td> 
                    <td>2014-12-20T20:58:18.430000Z</td> 
                    <td><a href="https://swapi.co/api/planets/8/">https://swapi.co/api/planets/8/</a>   
                </tr> 
                <tr>
                    <td>Coruscant</td> 
                    <td>24</td> 
                    <td>368</td> 
                    <td>12240</td> 
                    <td>temperate</td> 
                    <td>1 standard</td> 
                    <td>cityscape, mountains</td> 
                    <td>unknown</td> 
                    <td>1000000000000</td> 
                    <td>
                        <a href="https://swapi.co/api/people/34/">https://swapi.co/api/people/34/</a>,
                        <a href="https://swapi.co/api/people/55/">https://swapi.co/api/people/55/</a>,
                        <a href="https://swapi.co/api/people/74/">https://swapi.co/api/people/74/</a>
                    </td> 
                    <td>
                        <a href="https://swapi.co/api/films/5/">https://swapi.co/api/films/5/</a>,
                        <a href="https://swapi.co/api/films/4/">https://swapi.co/api/films/4/</a>,
                        <a href="https://swapi.co/api/films/6/">https://swapi.co/api/films/6/</a>,
                        <a href="https://swapi.co/api/films/3/">https://swapi.co/api/films/3/</a>
                    </td> 
                    <td>2014-12-10T11:54:13.921000Z</td> 
                    <td>2014-12-20T20:58:18.432000Z</td> 
                    <td><a href="https://swapi.co/api/planets/9/">https://swapi.co/api/planets/9/</a>
                </tr> 
                <tr>
                    <td>Kamino</td> 
                    <td>27</td> 
                    <td>463</td> 
                    <td>19720</td> 
                    <td>temperate</td> 
                    <td>1 standard</td> 
                    <td>ocean</td> 
                    <td>100</td> 
                    <td>1000000000</td> 
                    <td>
                        <a href="https://swapi.co/api/people/22/">https://swapi.co/api/people/22/</a>,
                        <a href="https://swapi.co/api/people/72/">https://swapi.co/api/people/72/</a>,
                        <a href="https://swapi.co/api/people/73/">https://swapi.co/api/people/73/</a>
                    </td> 
                    <td>
                        <a href="https://swapi.co/api/films/5/">https://swapi.co/api/films/5/</a>
                    </td> 
                    <td>2014-12-10T12:45:06.577000Z</td> 
                    <td>2014-12-20T20:58:18.434000Z</td> 
                    <td><a href="https://swapi.co/api/planets/10/">https://swapi.co/api/planets/10/</a>
                </tr> 
                <tr>
                    <td>Geonosis</td> 
                    <td>30</td> 
                    <td>256</td> 
                    <td>11370</td> 
                    <td>temperate, arid</td> 
                    <td>0.9 standard</td> 
                    <td>rock, desert, mountain, barren</td> 
                    <td>5</td> 
                    <td>100000000000</td> 
                    <td>
                        <a href="https://swapi.co/api/people/63/">https://swapi.co/api/people/63/</a>
                    </td> 
                    <td>
                        <a href="https://swapi.co/api/films/5/">https://swapi.co/api/films/5/</a>
                    </td> 
                    <td>2014-12-10T12:47:22.350000Z</td> 
                    <td>2014-12-20T20:58:18.437000Z</td> 
                    <td><a href="https://swapi.co/api/planets/11/">https://swapi.co/api/planets/11/</a>
                </tr>
        </tbody>
        
    </table>

    

    <script>
        var myData = [
            {
                "name": "Alderaan", 
                "rotation_period": "24", 
                "orbital_period": "364", 
                "diameter": "12500", 
                "climate": "temperate", 
                "gravity": "1 standard", 
                "terrain": "grasslands, mountains", 
                "surface_water": "40", 
                "population": "2000000000", 
                "residents": [
                    "https://swapi.co/api/people/5/", 
                    "https://swapi.co/api/people/68/", 
                    "https://swapi.co/api/people/81/"
                ], 
                "films": [
                    "https://swapi.co/api/films/6/", 
                    "https://swapi.co/api/films/1/"
                ], 
                "created": "2014-12-10T11:35:48.479000Z", 
                "edited": "2014-12-20T20:58:18.420000Z", 
                "url": "https://swapi.co/api/planets/2/"
            }, 
            {
                "name": "Yavin IV", 
                "rotation_period": "24", 
                "orbital_period": "4818", 
                "diameter": "10200", 
                "climate": "temperate, tropical", 
                "gravity": "1 standard", 
                "terrain": "jungle, rainforests", 
                "surface_water": "8", 
                "population": "1000", 
                "residents": [], 
                "films": [
                    "https://swapi.co/api/films/1/"
                ], 
                "created": "2014-12-10T11:37:19.144000Z", 
                "edited": "2014-12-20T20:58:18.421000Z", 
                "url": "https://swapi.co/api/planets/3/"
            }, 
            {
                "name": "Hoth", 
                "rotation_period": "23", 
                "orbital_period": "549", 
                "diameter": "7200", 
                "climate": "frozen", 
                "gravity": "1.1 standard", 
                "terrain": "tundra, ice caves, mountain ranges", 
                "surface_water": "100", 
                "population": "unknown", 
                "residents": [], 
                "films": [
                    "https://swapi.co/api/films/2/"
                ], 
                "created": "2014-12-10T11:39:13.934000Z", 
                "edited": "2014-12-20T20:58:18.423000Z", 
                "url": "https://swapi.co/api/planets/4/"
            }, 
            {
                "name": "Dagobah", 
                "rotation_period": "23", 
                "orbital_period": "341", 
                "diameter": "8900", 
                "climate": "murky", 
                "gravity": "N/A", 
                "terrain": "swamp, jungles", 
                "surface_water": "8", 
                "population": "unknown", 
                "residents": [], 
                "films": [
                    "https://swapi.co/api/films/2/", 
                    "https://swapi.co/api/films/6/", 
                    "https://swapi.co/api/films/3/"
                ], 
                "created": "2014-12-10T11:42:22.590000Z", 
                "edited": "2014-12-20T20:58:18.425000Z", 
                "url": "https://swapi.co/api/planets/5/"
            }, 
            {
                "name": "Bespin", 
                "rotation_period": "12", 
                "orbital_period": "5110", 
                "diameter": "118000", 
                "climate": "temperate", 
                "gravity": "1.5 (surface), 1 standard (Cloud City)", 
                "terrain": "gas giant", 
                "surface_water": "0", 
                "population": "6000000", 
                "residents": [
                    "https://swapi.co/api/people/26/"
                ], 
                "films": [
                    "https://swapi.co/api/films/2/"
                ], 
                "created": "2014-12-10T11:43:55.240000Z", 
                "edited": "2014-12-20T20:58:18.427000Z", 
                "url": "https://swapi.co/api/planets/6/"
            }, 
            {
                "name": "Endor", 
                "rotation_period": "18", 
                "orbital_period": "402", 
                "diameter": "4900", 
                "climate": "temperate", 
                "gravity": "0.85 standard", 
                "terrain": "forests, mountains, lakes", 
                "surface_water": "8", 
                "population": "30000000", 
                "residents": [
                    "https://swapi.co/api/people/30/"
                ], 
                "films": [
                    "https://swapi.co/api/films/3/"
                ], 
                "created": "2014-12-10T11:50:29.349000Z", 
                "edited": "2014-12-20T20:58:18.429000Z", 
                "url": "https://swapi.co/api/planets/7/"
            }, 
            {
                "name": "Naboo", 
                "rotation_period": "26", 
                "orbital_period": "312", 
                "diameter": "12120", 
                "climate": "temperate", 
                "gravity": "1 standard", 
                "terrain": "grassy hills, swamps, forests, mountains", 
                "surface_water": "12", 
                "population": "4500000000", 
                "residents": [
                    "https://swapi.co/api/people/3/", 
                    "https://swapi.co/api/people/21/", 
                    "https://swapi.co/api/people/36/", 
                    "https://swapi.co/api/people/37/", 
                    "https://swapi.co/api/people/38/", 
                    "https://swapi.co/api/people/39/", 
                    "https://swapi.co/api/people/42/", 
                    "https://swapi.co/api/people/60/", 
                    "https://swapi.co/api/people/61/", 
                    "https://swapi.co/api/people/66/", 
                    "https://swapi.co/api/people/35/"
                ], 
                "films": [
                    "https://swapi.co/api/films/5/", 
                    "https://swapi.co/api/films/4/", 
                    "https://swapi.co/api/films/6/", 
                    "https://swapi.co/api/films/3/"
                ], 
                "created": "2014-12-10T11:52:31.066000Z", 
                "edited": "2014-12-20T20:58:18.430000Z", 
                "url": "https://swapi.co/api/planets/8/"
            }, 
            {
                "name": "Coruscant", 
                "rotation_period": "24", 
                "orbital_period": "368", 
                "diameter": "12240", 
                "climate": "temperate", 
                "gravity": "1 standard", 
                "terrain": "cityscape, mountains", 
                "surface_water": "unknown", 
                "population": "1000000000000", 
                "residents": [
                    "https://swapi.co/api/people/34/", 
                    "https://swapi.co/api/people/55/", 
                    "https://swapi.co/api/people/74/"
                ], 
                "films": [
                    "https://swapi.co/api/films/5/", 
                    "https://swapi.co/api/films/4/", 
                    "https://swapi.co/api/films/6/", 
                    "https://swapi.co/api/films/3/"
                ], 
                "created": "2014-12-10T11:54:13.921000Z", 
                "edited": "2014-12-20T20:58:18.432000Z", 
                "url": "https://swapi.co/api/planets/9/"
            }, 
            {
                "name": "Kamino", 
                "rotation_period": "27", 
                "orbital_period": "463", 
                "diameter": "19720", 
                "climate": "temperate", 
                "gravity": "1 standard", 
                "terrain": "ocean", 
                "surface_water": "100", 
                "population": "1000000000", 
                "residents": [
                    "https://swapi.co/api/people/22/", 
                    "https://swapi.co/api/people/72/", 
                    "https://swapi.co/api/people/73/"
                ], 
                "films": [
                    "https://swapi.co/api/films/5/"
                ], 
                "created": "2014-12-10T12:45:06.577000Z", 
                "edited": "2014-12-20T20:58:18.434000Z", 
                "url": "https://swapi.co/api/planets/10/"
            }, 
            {
                "name": "Geonosis", 
                "rotation_period": "30", 
                "orbital_period": "256", 
                "diameter": "11370", 
                "climate": "temperate, arid", 
                "gravity": "0.9 standard", 
                "terrain": "rock, desert, mountain, barren", 
                "surface_water": "5", 
                "population": "100000000000", 
                "residents": [
                    "https://swapi.co/api/people/63/"
                ], 
                "films": [
                    "https://swapi.co/api/films/5/"
                ], 
                "created": "2014-12-10T12:47:22.350000Z", 
                "edited": "2014-12-20T20:58:18.437000Z", 
                "url": "https://swapi.co/api/planets/11/"
            }
            ];    

        function search(vSearch){
            
            //search by name
            if(document.getElementById('searchby').value == 'name'){    
                for(var i=0; i<myData.length;i++){
                    console.log(myData[i].name)
                    if(vSearch == myData[i].name){                        
                        result(i);
                        break;  
                    }
                    else if (vSearch != myData[i].name && i==myData.length-1){
                        console.log('masuk else');
                        document.getElementById('result').innerHTML = "Data Tidak Ditemukan";
                    }
                    
                }
                    
            }

            //search by rotation period
            /*
            else if(document.getElementById('searchby').value == 'rotation_period'){    
                for(var i=0; i<myData.length;i++){
                    if(vSearch == myData[i].rotation_period){
                        result(i);
                        break;  
                    }
                    else{
                        console.log('masuk else');
                        document.getElementById('result').innerHTML = "Data Tidak Ditemukan";
                    }
                    
                }
                    
            }
            */
            //search by orbital period
            //search by diameter
            //search by surface water
            //search by rotation period
            //search by population
            
            

        }
        

        function result(i){
            var body = document.getElementsByTagName("div")[1];
            var tbl = document.createElement("table");
            tbl.setAttribute("class", "table table-bordered");
            var tblBody = document.createElement("tbody");
            var row = document.createElement("tr");
            var keys = Object.keys(myData[i]);
            var len = keys.length;

            //untuk clear table
            // if(document.getElementById('resultTable')!=null){
            //     var Parent = document.getElementById(resultTable);
            //     while(Parent.hasChildNodes()){
            //         Parent.removeChild(Parent.firstChild);
            //     }
            // }
            // else{
                for(var k = 0; k < len; k++){
                    // console.log('masuk ke for');
                    var cell = document.createElement("td");
                    if (k==0){
                        var cellText = document.createTextNode(myData[i].name);
                    }
                    else if (k==1){
                        var cellText = document.createTextNode(myData[i].rotation_period);
                    }
                    else if(k==2){
                        var cellText = document.createTextNode(myData[i].orbital_period);
                    }
                    else if(k==3){
                        var cellText = document.createTextNode(myData[i].diameter);
                    }
                    else if(k==4){
                        var cellText = document.createTextNode(myData[i].climate);
                    }
                    else if(k==5){
                        var cellText = document.createTextNode(myData[i].gravity);
                    }
                    else if(k==6){
                        var cellText = document.createTextNode(myData[i].terrain);
                    }
                    else if(k==7){
                        var cellText = document.createTextNode(myData[i].surface_water);
                    }
                    else if(k==8){
                        var cellText = document.createTextNode(myData[i].population);
                    }
                    else if(k==9){  
                        var cellText = document.createTextNode(myData[i].residents);
                    }
                    else if(k==10){
                        var cellText = document.createTextNode(myData[i].films);
                    }
                    else if(k==11){
                        var cellText = document.createTextNode(myData[i].created);
                    }
                    else if(k==12){
                        var cellText = document.createTextNode(myData[i].edited);
                    }
                    else if(k==13){
                        var cellText = document.createTextNode(myData[i].url);
                    }

                    
                    cell.appendChild(cellText);
                    row.appendChild(cell);
                }
                tblBody.appendChild(row);

                tbl.appendChild(tblBody);
                
                body.appendChild(tbl);
            
                tbl.setAttribute("border", "1");
            // }
                
        }        
    </script>
</body>
</html>